<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      href="css/profile.css?_&amp;d2lSessionVal=leM9zTUcIolGTSUJbXPug8kuU&amp;ou=173398"
      rel="stylesheet"
    />
    <title>User Profile</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script>
      function lti_launch(vars, target) {
        var query = "";
        var new_tab = false;

        for (var key in vars) {
          if (query.length == 0) {
            query += "?" + key + "=" + encodeURIComponent(vars[key]);
          } else {
            query += "&" + key + "=" + encodeURIComponent(vars[key]);
          }
        }

        var url = "/d2l/customization/pearsonlti/173398/Launch" + query;
        target == "_blank" ? window.open(url, "_blank") : location.replace(url);
      }
    </script>
    <script
      src="https://s.brightspace.com/lib/bsi/20.22.12-222/unbundled/mathjax.js?v=20.22.12.18407"
      type="module"
    ></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        if (
          document.querySelector("math") ||
          /\$\$|\\\(|\\\[|\\begin{|\\ref{|\\eqref{/.test(
            document.body.innerHTML
          )
        ) {
          document
            .querySelectorAll('mspace[linebreak="newline"]')
            .forEach((elm) => {
              elm.setAttribute("style", "display: block; height: 0.5rem;");
            });

          window.D2L.MathJax.loadMathJax({
            outputScale: 1.3,
            renderLatex: true,
          });
        }
      });
    </script>
    <script
      src="https://s.brightspace.com/lib/bsi/20.22.12-222/unbundled/prism.js?v=20.22.12.18407"
      type="module"
    ></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".d2l-code").forEach((code) => {
          window.D2L.Prism.formatCodeElement(code);
        });
      });
    </script>
    <script>
      window.addEventListener("message", function (event) {
        if (!event.data) {
          return;
        }

        var params;
        try {
          params = JSON.parse(event.data);
        } catch {
          return;
        }
        if (!params.subject || params.subject !== "lti.frameResize") {
          return;
        }

        const MAX_FRAME_HEIGHT = 10000;
        if (
          !params.height ||
          params.height < 1 ||
          params.height > MAX_FRAME_HEIGHT
        ) {
          console.warn("Invalid height value received, aborting");
          return;
        }
        var el = document.getElementsByTagName("iframe");
        for (var i = 0; i < el.length; i++) {
          if (el[i].contentWindow === event.source) {
            el[i].style.height = params.height + "px";
            el[i].style.width = "100%";
            console.info("Setting iFrame height to " + params.height);
            console.info("Setting iFrame width to 100%");
          }
        }
      });
    </script>
  </head>
  <body>
    <div class="card">
      <img
        src="http://localhost:3001/profile.jpg"
        id="profilepic"
        alt="Profile"
        style="width: 100%"
      />
      <p class="username">
        <label>Username: </label> <input type="text" id="username" /> <br />
      </p>
      <p class="role">
        <label>Job role: </label> <input type="text" id="role" /> <br />
      </p>
      <p class="email">
        <label>Email: </label> <input type="text" id="email" />
      </p>
      <p><span id="msg"></span></p>
      <a href="#"><i class="fa fa-dribbble"></i></a>
      <a href="#"><i class="fa fa-twitter"></i></a>
      <a href="#"><i class="fa fa-linkedin"></i></a>
      <a href="#"><i class="fa fa-facebook"></i></a>
      <p><input type="button" id="Update" value="Update Profile" /></p>
      <p><input type="button" id="Logout" value="Log Out" /></p>
    </div>

    <div id="torrent-scanner-popup" style="display: none"></div>
  </body>
</html>
